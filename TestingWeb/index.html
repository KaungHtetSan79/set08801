<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Game Knowledge Hub</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="https://www.w3schools.com/lib/w3.js"></script>
    <script src="auth.js"></script>

    <style>
        /* Logo */
        .logo img {
            width: 120px;
            height: auto;
        }

        /* Search area */
        .search-container {
            display: flex;
            align-items: center;
            gap: 8px;
            flex: 1;
            max-width: 400px;
            margin: 0 auto;
        }

        .search-bar {
            flex-grow: 1;
            padding: 8px;
            font-size: 16px;
        }

        .search-icon {
            width: 20px;
            height: 20px;
            margin-left: 5px;
        }

        /* User info */
        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .user-email {
            color: white;
            font-size: 14px;
        }

        .logout-btn {
            background-color: red;
            color: white;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
            border-radius: 4px;
        }

        /* Card styles */
        .lg-image,
        .news-card,
        .popular-card,
        .cheat-card {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 10px 0;
        }

        .news-content,
        .popular-content,
        .cheat-content {
            flex: 1;
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        /* Hamburger menu for small screens */
        .hamburger-menu {
            display: none;
            font-size: 30px;
            cursor: pointer;
            padding: 10px;
            background-color: transparent;
            color: white;
            border: none;
        }

        /* Hide the nav links on small screens by default */
        #nav-menu {
            display: flex;
            gap: 10px;
        }

        #nav-menu a {
            display: block;
        }

        @media (max-width: 768px) {
            .hamburger-menu {
                display: block;
            }

            #nav-menu {
                display: none;
                width: 100%;
                flex-direction: column;
                align-items: center;
                background-color: black;
                padding: 10px;
            }

            #nav-menu.active {
                display: flex;
            }

            #nav-menu a {
                width: 100%;
                text-align: center;
            }

            .search-container {
                flex-direction: column;
                width: 100%;
            }

            .search-bar {
                width: 100%;
                max-width: none;
            }

            header {
                flex-direction: column;
            }
        }
    </style>

</head>

<body class="dark-mode">
    <header>
        <div class="logo">
            <img src="../image/Logo.png" alt="Logo" />
        </div>

        <div class="search-container">
            <input type="text" placeholder="Search bar" class="search-bar" id="search-input" />
            <img src="../image/Search.png" alt="Search" class="search-icon" />
        </div>

        <nav id="nav-menu">
            <a href="index.html"><button>Home</button></a>
            <a href="game-guides.html"><button>Game Guides</button></a>
            <a href="news.html"><button>News</button></a>
            <a href="contact.html"><button>Contact</button></a>
            <a href="about.html"><button>About Us</button></a>
            <div id="auth-container"></div>
            <a href="edit-profile.html"><button>Edit Profile</button></a>
            <button id="theme-toggle">Toggle Mode</button>
        </nav>

        <div class="hamburger-menu" id="hamburger-menu">
            &#9776;
        </div>
    </header>

    <main>
        <section class="content-grid">
            <div class="advertisement">
                <h2>The New Upcoming Games</h2>
                <img src="../image/Advposter.jpg" alt="Advertisement" />
            </div>

            <div class="latest-guides">
                <h2>Latest Guides</h2>
                <a href="game-guides.html" class="lg-image">
                    <img src="../image/lg1.jpg" alt="Game Guide" width="80" />
                    <p><b>Grand Theft Auto V</b></p>
                </a>
                <a href="game-guides.html" class="lg-image">
                    <img src="../image/lg2.jpg" alt="Game Guide" width="80" />
                    <p><b>Grand Theft Auto San Andreas</b></p>
                </a>
                <a href="game-guides.html" class="lg-image">
                    <img src="../image/lg3.jpg" alt="Game Guide" width="80" />
                    <p><b>The Legend of Zelda</b></p>
                </a>
            </div>
        </section>

        <section class="latest-news">
            <h2>Latest News</h2>
            <div class="news-grid">
                <a href="news.html?title=Daily%20Deals%3A%20SteelSeries%20Arctis%20Nova%20Pro&image=new1.jpg&text=Huge%20savings%20on%20headphones%2C%20LEGOs%2C%20and%20more."
                    class="news-card">
                    <img src="../image/new1.jpg" alt="News Image" width="80" />
                    <div class="news-content">
                        <h2>Daily Deals: SteelSeries Arctis Nova Pro...</h2>
                        <p>4h ago - Huge savings on headphones, LEGOs, and more.</p>
                    </div>
                </a>

                <a href="news.html?title=Mortal%20Kombat%202%20Cast%20and%20Characters&image=new2.jpg&text=Heroes%20and%20villains%2C%20both%20new%20and%20old..."
                    class="news-card">
                    <img src="../image/new2.jpg" alt="News Image" width="80" />
                    <div class="news-content">
                        <h2>Mortal Kombat 2 Cast and Characters</h2>
                        <p>4h ago - Heroes and villains, both new and old...</p>
                    </div>
                </a>

                <a href="news.html?title=Imported%20Xbox%20Series%20X%20From%20%24315%2C%20PS5%20Disc%20Edition%20for%20%24398&image=new3.jpg&text=Keep%20an%20eye%20on%20the%20upcoming."
                    class="news-card">
                    <img src="../image/new3.jpg" alt="News Image" width="80" />
                    <div class="news-content">
                        <h2>Imported Xbox Series X From $315, PS5 Disc Edition for $398</h2>
                        <p>6h ago - Keep an eye on the upcoming.</p>
                    </div>
                </a>
            </div>
        </section>

        <section class="game-info">
            <div class="most-popular">
                <h2>Most Popular Game</h2>
                <div class="popular-card">
                    <img src="../image/popular1.jpg" alt="Game Image" width="80" />
                    <div class="popular-content">
                        <h3>Tom Rider</h3>
                        <p>Lara Croft travels around the world searching for lost artefacts...</p>
                    </div>
                </div>
                <div class="popular-card">
                    <img src="../image/popular2.jpg" alt="Game Image" width="80" />
                    <div class="popular-content">
                        <h3>The Last Of Us Part 1</h3>
                        <p>Joel is hired to smuggle Ellie out of a military quarantine zone...</p>
                    </div>
                </div>
            </div>

            <div class="latest-cheat">
                <h2>Latest Cheat</h2>
                <div class="cheat-card">
                    <img src="../image/cheat1.jpg" alt="Cheat Image" width="80" />
                    <div class="cheat-content">
                        <h3>Guardians of the Galaxy</h3>
                        <p>Details about the cheat.</p>
                        <button
                            onclick="openGuide('Guardians of the Galaxy', 'Details about Guardians of the Galaxy cheat.', '../image/cheat1.jpg')">View
                            Cheat</button>
                    </div>
                </div>
                <div class="cheat-card">
                    <img src="../image/cheat2.jpg" alt="Cheat Image" width="80" />
                    <div class="cheat-content">
                        <h3>Ghost of Tsushima</h3>
                        <p>Details about the cheat.</p>
                        <button
                            onclick="openGuide('Ghost of Tsushima', 'Details about Ghost of Tsushima cheat.', '../image/cheat2.jpg')">View
                            Cheat</button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <div w3-include-html="footer.html"></div>

    <!-- 🔍 Search Script -->
    <script>
        document.getElementById("search-input").addEventListener("input", function () {
            const value = this.value.toLowerCase();
            const cards = document.querySelectorAll(".lg-image, .news-card, .popular-card, .cheat-card");

            cards.forEach(card => {
                const content = card.textContent.toLowerCase();
                card.style.display = content.includes(value) ? "flex" : "none";
            });
        });

        function openGuide(title, description, image) {
            // Encode data to ensure the URL is correctly formatted
            const encodedTitle = encodeURIComponent(title);
            const encodedDescription = encodeURIComponent(description);
            const encodedImage = encodeURIComponent(image);

            // Redirect to game-guides.html with query parameters
            window.location.href =
                `game-guides.html?title=${encodedTitle}&description=${encodedDescription}&image=${encodedImage}`;
        }

        // Toggle the navigation menu when the hamburger icon is clicked
        document.getElementById("hamburger-menu").addEventListener("click", function () {
            document.getElementById("nav-menu").classList.toggle("active");
        });
    </script>
</body>

</html>